"use strict";(function($,_){function setWeightsOptions(target){var variants=target.parentNode.querySelector("[data-typography-variants]"),variant=variants?variants.selectedOptions[0].value:"normal",weightInput=target.parentNode.querySelector("[data-typography-weights]"),family=target.parentNode.querySelector("[data-typography-family]"),familyOption=family.selectedOptions[0],weights=familyOption.getAttribute("data-font-weight").split(";");if(!weightInput){return false}var selectedVal=weightInput.selectedOptions[0].value.replace("w",""),foundVal=false;for(var c=0;c<weights.length;++c){if(-1!==weights[c].indexOf(variant)){weights=weights[c];break}}for(c=weightInput.options.length-1;c>=0;--c){weightInput.options.remove(c)}weights.split(":")[1].split("|").forEach(function(el){var option=document.createElement("option");option.text=el;option.value="w"+el;weightInput.appendChild(option)});for(c=0;c<weightInput.options.length;++c){if(parseInt(selectedVal)===parseInt(weightInput.options[c].getAttribute("value").replace("w",""))){selectedVal=weightInput.options[c].getAttribute("value");foundVal=true}}selectedVal=foundVal?selectedVal:weightInput.options[0].getAttribute("value");weightInput.value="w"+selectedVal.replace("w","");$(weightInput).trigger("change.select2")}function setVariantsOptions(target){var option=target.selectedOptions[0];var variantsEl=target.parentNode.querySelector("[data-typography-variants]");if(!variantsEl){return}var variantOptVal=variantsEl.selectedOptions[0].value,variantsList=[],foundVal=false;try{variantsList=option.getAttribute("data-font-variant").split(";");if(!variantsList){variantsList=["normal"]}}catch(exc){variantsList=["normal"]}if(variantsEl){for(var c=variantsEl.options.length-1;c>=0;--c){variantsEl.remove(c)}variantsList.forEach(function(el){if(variantOptVal===el){foundVal=true}var option=document.createElement("option");option.value=option.text=el;variantsEl.add(option)});variantsEl.value=foundVal?variantOptVal:variantsEl.options[0].value;$(variantsEl).trigger("change.select2");return variantsEl}}var typo=document.querySelectorAll("[data-typography-family]"),variants=document.querySelectorAll("[data-typography-variants]");if(!typo.length){return false}_.forEach(typo,function(elem){elem.addEventListener("select2change",function(e){e.preventDefault();e.stopPropagation();setVariantsOptions(e.target);setWeightsOptions(e.target)})});if(variants.length){_.forEach(variants,function(elem){setWeightsOptions(elem);elem.addEventListener("select2change",function(e){e.preventDefault();e.stopPropagation();setWeightsOptions(e.target)})})}})(jQuery,_);