!function(e){var c=function(e){return e.toISOString().replace(/-|:|\.\d+/g,"")},d=function(e){return e.end?c(e.end):c(new Date(e.start.getTime()+6e4*e.duration))},n={google:function(e){var t=c(e.start),o=d(e);return'<a class="oui oui-google" target="_blank" href="'+encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(e.title||""),"&dates="+(t||""),"/"+(o||""),"&details="+(e.description||""),"&location="+(e.address||""),"&sprop=&sprop=name:"].join(""))+'">Google Calendar <em>(online)</em></a>'},yahoo:function(e){var t=e.end?(e.end.getTime()-e.start.getTime())/6e4:e.duration,o=(t<600?"0"+Math.floor(t/60):Math.floor(t/60)+"")+(t%60<10?"0"+t%60:t%60+""),a=c(new Date(e.start-6e4*e.start.getTimezoneOffset()))||"";return'<a class="oui oui-yahoo" target="_blank" href="'+encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(e.title||""),"&st="+a,"&dur="+(o||""),"&desc="+(e.description||""),"&in_loc="+(e.address||"")].join(""))+'">Yahoo! Calendar <em>(online)</em></a>'},ics:function(e,t,o){var a=c(e.start),n=d(e);return'<a class="'+t+'" target="_blank" href="'+encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(a||""),"DTEND:"+(n||""),"SUMMARY:"+(e.title||""),"DESCRIPTION:"+(e.description||""),"LOCATION:"+(e.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"))+'">'+o+" Calendar</a>"},ical:function(e){return this.ics(e,"oui oui-ical","iCal")},outlook:function(e){return this.ics(e,"oui oui-outlook","Outlook")}},i=function(){var e=document.createElement("style");return e.id="ouical-css",e.innerHTML="#add-to-calendar-checkbox-label{cursor:pointer}.add-to-calendar-checkbox~.add-to-calendar-lists{display:none;}.add-to-calendar-checkbox:checked~.add-to-calendar-lists{display:block;}input[type=checkbox].add-to-calendar-checkbox{position:absolute;top:-9999px;left:-9999px}",e},r=function(e,t,o,a){var n=document.createElement("div"),c="Add to Calendar";e.label&&(c=e.label),n.innerHTML='<label for="checkbox-for-'+a+'" class="add-to-calendar-checkbox">'+c+"</label>",n.innerHTML+='<input name="add-to-calendar-checkbox" class="add-to-calendar-checkbox" id="checkbox-for-'+a+'" type="checkbox">';var d="";return Object.keys(t).forEach(function(e){d+="<li>"+t[e]+"</li>"}),n.innerHTML+='<div class="add-to-calendar-lists"><ul>'+d+"</ul></div>",n.className="add-to-calendar",void 0!==o&&(n.className+=" "+o),document.getElementById("ouical-css")||document.getElementsByTagName("head")[0].appendChild(i()),n.id=a,n};e.createCalendar=function(e){var t,o,a;if(void 0!==(t=e).data&&void 0!==t.data.start&&(void 0!==t.data.end||void 0!==t.data.duration))return r(e.data,(a=e.data,{google:n.google(a),yahoo:n.yahoo(a),ical:n.ical(a),outlook:n.outlook(a)}),function(e){if(e.options&&e.options.class)return e.options.class}(e),(o=e).options&&o.options.id?o.options.id:Math.floor(1e6*Math.random()));console.log("Event details missing.")},window.addEventListener("load",function(e){document.body.addEventListener("click",function(e){var t=document.getElementById("checkbox-for-dlevents-cal");t.checked&&(t.checked=!t.checked)});var t=document.querySelector(".add-to-calendar-checkbox");t&&t.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=document.getElementById("checkbox-for-dlevents-cal");t.checked=!t.checked})})}(this);